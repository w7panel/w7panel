package console

import (
	"testing"
	"os"
)

func TestRegisterSite(t *testing.T) {
	os.Setenv("USER_AGFNT", "we7test-beta")
	// token := "eyJhbGciOiJSUzI1NiIsImtpZCI6IjVTSWMwdmF3VFg3VTNLV05TcVRWZ1NsUnlfM2tsOE03M1NFMmx5UzU0SkkifQ.eyJhdWQiOlsiYWRtaW4iLCJmb3VuZGVyIiwiNzYwNTIiLCJodHRwczovL2t1YmVybmV0ZXMuZGVmYXVsdC5zdmMuY2x1c3Rlci5sb2NhbCIsImszcyJdLCJleHAiOjE3Njk1ODczNDAsImlhdCI6MTc2OTU4Mzc0MCwiaXNzIjoiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiLCJqdGkiOiI3NDExYjZmOC0zMjI5LTQ5YWQtOWIwNS00MmFiY2Y5YTk0M2UiLCJrdWJlcm5ldGVzLmlvIjp7Im5hbWVzcGFjZSI6ImRlZmF1bHQiLCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiYWRtaW4iLCJ1aWQiOiIyY2U4OTgzMC05YTcxLTQ0NTUtOTg5Zi04MGMzNmQ5YTYzMWEifX0sIm5iZiI6MTc2OTU4Mzc0MCwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmRlZmF1bHQ6YWRtaW4ifQ.LEPGN99-l7hG9K6LRKwaZAS5r2umEAWdktSxVGzR-vInbprwQ9WFRy_KMKspoFWELFlJnkZsq1eXGRfU2dglWhruX7DTsthQABvmPy0CSY98DIOA2m0QcPgE82Zu_MBRJPcCRDUm4DH_mvHW3Z7LP7xQh2SfIGwz6OLkKTF26pqbPncoFICcV6j1v22oNEHELAkb-bzZzr_iePyxE5xDh6yyj_2dgFISO1pmnxd9FrjfquuxX76MGR7Iz1g6n7UI6HG3plZBcp7f96DyyfV9M_SVdeUwA7t08EKgdzyLDx_m5NKJR9dGSLqX76q_QynMJVgxN3WKHF-llwXgh9_mVw"
	token := "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczovL2NvbnNvbGUudzcuY2MvYXBpL3RoaXJkcGFydHktY2QvazhzLW9mZmxpbmUvb3BlbmlkLXRvLWNkLXRva2VuIiwiaWF0IjoxNzY5NTg0OTM0LCJleHAiOjE3Njk1OTAzMzQsIm5iZiI6MTc2OTU4NDkzNCwianRpIjoieWRJZmZyOHlaYTJiTXlZZSIsInN1YiI6Ijc2MDUyIiwicHJ2IjoiZjBkMTkwZjdhZjJlODdjZTZmMDE2YWE4MjA1MGZjNzBmMjNmNTk1YyIsIm9wZW5faWQiOiJDSmd0X2hSMlZzRDdoX1Ftc0FBZ3pBIiwiZm91bmRlcl9vcGVuaWQiOiJDSmd0X2hSMlZzRDdoX1Ftc0FBZ3pBIiwicm9sZV9pZGVudGlmeSI6ImZvdW5kZXIiLCJvcmlnaW5fYXBwaWQiOiIzMTQ4OTkiLCJuaWNrbmFtZSI6InRtcCIsInVzZXJfaWQiOjc2MDUyLCJpc192YWxpZCI6dHJ1ZX0.NKrEL2gRxqtCFa8kRcASgYxVtGCd245pWTN17ohBIII"
	_, err := RegisterSite(token, "w7-pros-28692-wfnf62mh29", "xcx2.fan.b2.sz.w7.com")
	if err != nil {
		t.Errorf("RegisterSite() error = %v", err)
	}
}

// 修改原函数以接受接口作为参数进行测试
