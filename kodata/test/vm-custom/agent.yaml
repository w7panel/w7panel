kind: Deployment
apiVersion: apps/v1
metadata:
    name: metricsagent-kynvjpzq
    namespace: default
    uid: 6d39cfd4-153f-4e62-ad10-16058329c6a8
    resourceVersion: '295542'
    generation: 3
    creationTimestamp: '2025-03-12T02:09:13Z'
    labels:
        app: metricsagent-kynvjpzq
        parent: metricssingle-kynvjpzq
        w7.cc/suffix: kynvjpzq
    annotations:
        deployment.kubernetes.io/revision: '3'
        title: metrics-agent
        w7.cc.app/ports: '{}'
        w7.cc.app/title: metrics-agent
spec:
    replicas: 1
    selector:
        matchLabels:
            app: metricsagent-kynvjpzq
    template:
        metadata:
            creationTimestamp: null
            labels:
                app: metricsagent-kynvjpzq
        spec:
            volumes:
                -
                    name: dffezm-prometrics-volume
                    configMap:
                        name: prometrics
                        items:
                            -
                                key: default-cnf
                                path: prometheus.yml
                        defaultMode: 420
            containers:
                -
                    name: metricsagent-kynvjpzq
                    image: victoriametrics/vmagent:v1.113.0
                    args:
                        - '--promscrape.config=/etc/prometheus/prometheus.yml'
                        - >-
                            --remoteWrite.url=http://metricssingle-kynvjpzq.default.svc.cluster.local:8428/api/v1/write
                    env:
                        -
                            name: RELEASE_NAME_SUFFIX
                            value: kynvjpzq
                    resources:
                        limits:
                            cpu: '0'
                            memory: '0'
                    volumeMounts:
                        -
                            name: dffezm-prometrics-volume
                            mountPath: /etc/prometheus/prometheus.yml
                            subPath: prometheus.yml
                    lifecycle: {}
                    terminationMessagePath: /dev/termination-log
                    terminationMessagePolicy: File
                    imagePullPolicy: IfNotPresent
                    securityContext:
                        privileged: false
            restartPolicy: Always
            terminationGracePeriodSeconds: 30
            dnsPolicy: ClusterFirst
            securityContext: {}
            schedulerName: default-scheduler
    strategy:
        type: RollingUpdate
        rollingUpdate:
            maxUnavailable: 25%
            maxSurge: 25%
    revisionHistoryLimit: 10
    progressDeadlineSeconds: 600
status:
    observedGeneration: 3
    replicas: 1
    updatedReplicas: 1
    readyReplicas: 1
    availableReplicas: 1
    conditions:
        -
            type: Progressing
            status: 'True'
            lastUpdateTime: '2025-03-12T02:31:51Z'
            lastTransitionTime: '2025-03-12T02:09:13Z'
            reason: NewReplicaSetAvailable
            message: >-
                ReplicaSet "metricsagent-kynvjpzq-85b668c96f" has successfully
                progressed.
        -
            type: Available
            status: 'True'
            lastUpdateTime: '2025-03-12T06:14:59Z'
            lastTransitionTime: '2025-03-12T06:14:59Z'
            reason: MinimumReplicasAvailable
            message: Deployment has minimum availability.
